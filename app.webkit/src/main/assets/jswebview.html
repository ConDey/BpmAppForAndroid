<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>测试</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!--标准mui.css-->
    <link rel="stylesheet" href="css/mui.min.css">
    <style>
			input, button, .mui-btn {
				margin-top: 10px;
				margin-left: 10px;
			}





    </style>
</head>

<body>
<div class="mui-content">
    <div class="mui-content-padded">
        <button type="button" class="mui-btn mui-btn-outlined" onclick="closewindow()">
            关闭页面
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitlebarVisible()">
            显示标题栏
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitlebarInvisible()">
            隐藏标题栏
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitlebarBgColor()">
            设置标题栏背景颜色
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitlebarBgImage()">
            设置标题栏背景图片
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitleBarRightBtn()">
            设置标题栏右边按钮
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitleBarTextView()">
            修改标题栏title
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="startWindow()">
            新建WebViewActivity
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="skipWindow()">
            新建WebViewActivity并结束当前activity
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="downloadFile()">
            文件下载
        </button>

    </div>
</div>
</body>
<script src="js/mui.min.js"></script>
<script>
		mui.init({
			swipeBack:true //启用右滑关闭功能
		});

        // 初始化
		var bpmbridget = getJsBridge();

        // 关闭当前窗口
		function closewindow() {
               bpmbridget.call("close");
        }

        // 设置标题栏显示
        function setTitlebarVisible() {
               bpmbridget.call("setTitlebarVisible",{visible: "yes"});
        }

        // 设置标题栏隐藏
        function setTitlebarInvisible() {
               bpmbridget.call("setTitlebarVisible",{visible: "no"});
        }

        // 设置标题栏右边按钮
        function setTitleBarRightBtn() {
            bpmbridget.call("setTitlebarRightBtn", {"url": "https://58.215.198.210:9997/bpmapp/bpm_toolbar_bg.png", "callback": "rightBtnCallback"});
        }
        // 回调函数
        function rightBtnCallback(result) {
            alert("view is clicked!");
        }

        // 设置标题栏背景颜色
        function setTitlebarBgColor() {
               bpmbridget.call("setTitlebarBgColor",{bgColor: "#3892FF"});
        }

        // 设置标题栏背景图片
        function setTitlebarBgImage() {
               bpmbridget.call("setTitlebarBgImage",{bgImgUrl: "https://58.215.198.210:9997/bpmapp/bpm_toolbar_bg.png"});
        }

        // 设置标题
        function setTitleBarTextView() {
               bpmbridget.call("setTitlebarTextView",{title: "XXXX", fontSize: "19", fontColor: "#3892FF"});
        }

        // 新建窗口
        function startWindow() {
               bpmbridget.call("startWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
        }

        // 新建窗口并结束当前窗口
        function skipWindow() {
               bpmbridget.call("skipWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
        }

        // 文件下载
        function downloadFile() {
               bpmbridget.call("downloadFile",{attachmentId: "ff8080815d3aa2af015d3ed479200920", attachmentName: "ic_flicker_bg.png"});
        }

</script>
</html>