<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <title>测试</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!--标准mui.css-->
    <link rel="stylesheet" href="css/mui.min.css">
    <style>
			input, button, .mui-btn {
				margin-top: 10px;
				margin-left: 10px;
			}



    </style>
</head>

<body>
<br class="mui-content">
    <br class="mui-content-padded">
        <button type="button" class="mui-btn mui-btn-outlined" onclick="closewindow()">
            关闭页面
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitlebarVisible()">
            显示标题栏
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitlebarInvisible()">
            隐藏标题栏
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitlebarBgColor()">
            设置标题栏背景颜色
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitlebarBgImage()">
            设置标题栏背景图片
        </button>
        <!--<button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="setTitleBarRightBtn()">-->
        <!--设置标题栏右边按钮-->
        <!--</button>-->
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitleBarTextView()">
            修改标题栏title
        </button>


        </br>
        </br>


        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="registerBack()">
            绑定Back按钮
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="unRegisterBack()">
            解绑Back按钮
        </button>

        </br>
        </br>


        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitleBarRightBtn()">
            设置标题栏右边按钮弹框
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="setTitleBarRightBtnAc()">
            设置标题栏右边按钮新建Activity
        </button>
        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="startWindow()">
            新建WebViewActivity
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="skipWindow()">
            新建WebViewActivity并结束当前activity
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="downloadFile()">
            文件下载
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="uploadFile()">
            文件上传
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="fileSelector()">
            文件选择
        </button>
        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"
                onclick="openFile()">
            文件打开
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="getUser()">
            获得用户信息
        </button>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="getToken()">
            获得Token
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-purple mui-btn-outlined" onclick="getImages()">
            选择本地图片
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-purple mui-btn-outlined" onclick="getVideos()">
            选择本地视频
        </button>

        <button type="button" class="mui-btn mui-btn-purple mui-btn-outlined"
                onclick="userChoose()">
            选择人员
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="toastShow()">
            Toast显示
        </button >

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"  onclick="dialogShowAl()">
            Alert确认框AL
        </button>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined"  onclick="dialogShowAc()">
            Alert确认框AC
        </button>

        </br>
        </br>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="progressShow()">
            请求显示
        </button>

        <button type="button" class="mui-btn mui-btn-primary mui-btn-outlined" onclick="progressCancle()">
            请求取消
        </button>

    </div>
</div>
</body>
<script src="js/mui.min.js"></script>
<script>
		mui.init({
			swipeBack:true //启用右滑关闭功能
		});

        // 关闭当前窗口
		function closewindow() {
               bpmbridget.call("close");
        }

        // 设置标题栏显示
        function setTitlebarVisible() {
               bpmbridget.call("setTitlebarVisible",{visible: true}, function(result){
                    alert(result);
               });
        }

        // 设置标题栏隐藏
        function setTitlebarInvisible() {
               bpmbridget.call("setTitlebarVisible",{visible: false}, function(result){
                    alert(result);
               });
        }

        // 设置标题栏右边按钮,弹框
        //imgUrl:图片(可本地，可网络),acTitle:dialog的内容
        function setTitleBarRightBtn() {
            bpmbridget.call("setTitlebarRightBtn", {imageUrl: "http://58.215.198.212:8080/images/logo/logo.png",dialogTitle:"标题",dialogInfo:"XXXXXXX"},function(result){
              alert(result);
            });
        }

        // 设置标题栏右边按钮,跳转页面windowType:startWindow,skipWindow
        //imageUrl:图片(可本地，可网络),windowType:确认后的事件类型,windowUrl:跳转界面的地址,windowTitle:新建窗体标题
        function setTitleBarRightBtnAc() {
            bpmbridget.call("setTitlebarRightBtnAc", {imageUrl: "http://58.215.198.212:8080/images/logo/logo.png",windowTitle:"PPPP",windowUrl:"https://58.215.198.210:9997/bpmapp/newjswebview.html",windowType:"startWindow"});
        }

        // 设置标题栏背景颜色
        function setTitlebarBgColor() {ild
               bpmbridget.call("setTitlebarBgColor",{bgColor: "#3892FF"}, function(result){
                    alert(result);
               });
        }

        // 设置标题栏背景图片
        function setTitlebarBgImage() {
               bpmbridget.call("setTitlebarBgImage",{bgImgUrl: "https://58.215.198.210:9997/bpmapp/bpm_toolbar_bg.png"}, function(result){
                    alert(result);
               });
        }

        // 设置标题
        function setTitleBarTextView() {
               bpmbridget.call("setTitlebarTextView",{title: "XXXX", fontSize: "19", fontColor: "#3892FF"}, function(result){
                    alert(result);
               });
        }

        // 新建窗口
        function startWindow() {
               bpmbridget.call("startWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
        }

        // 新建窗口并结束当前窗口
        function skipWindow() {
               bpmbridget.call("skipWindow",{url: "https://58.215.198.210:9997/bpmapp/newjswebview.html", title: "hello"});
        }

        // 文件下载
        function downloadFile() {
               bpmbridget.call("downloadFile",{attachmentId: "402836585d4e8b78015d54578f12000b", attachmentName: "3.doc", autoOpen: true}, function(result){
                    alert(result);
               });
        }

        // 文件上传
        function uploadFile() {
               bpmbridget.call("uploadFile",{filePath: "storage/emulated/0/1.pdf"}, function(result){
                    alert(result);
               });
        }

        // 文件选择
        function fileSelector() {
               bpmbridget.call("fileSelector",{selectNum: 5}, function(result){
                    alert(result);
               });
        }

        //文件打开
        function openFile(){

             bpmbridget.call("openFile",{openFilePath: "storage/emulated/0/1.png"});
         }


        //[sync] 获得当前用户信息
        function getUser() {
               bpmbridget.call("getUser", function(result){
                    alert(result);
               });
        }

        //[sync] 获得Token
        function getToken() {
               bpmbridget.call("getToken", function(result){
                    alert(result);
               });
        }

        // 选择本地图片
        function getImages() {
               bpmbridget.call("getImages", {selectNum: 3}, function(result) {
                    alert(result);
               });
        }

        // 选择本地视频
        function getVideos() {
               bpmbridget.call("getVideos", {selectNum: 3}, function(result) {
                    alert(result);
               });
        }

        function registerBack() {
              bpmbridget.call("bindBackBtn", {callback: "tback"}, function(result) {
                    alert(result);
               });
        }

        function tback() {
             alert(1);
        }

        function unRegisterBack() {
               bpmbridget.call("unbindBackBtn", function(result) {
                    alert(result);
               });
        }

        function userChoose() {
          bpmbridget.call("userChoose", {selectNum: 5, users:[{id:"1",name:"张三"},{id:"2",name:"李四"}]},function(result) {
                    alert(result);
          });
        }

       //Toast显示  toastType有五种类型：info,success,error,warning,normal
         function toastShow() {
               bpmbridget.call("toastShow",{toast:"5",toastType:"info"});
        }

       //Alter确认框显示AL
       function dialogShowAl(){
          bpmbridget.call("dialogShowAl",{dialogTitle:"标题",dialogInfo:"内容"},function(result){
                    alert(result);
          });
       }

       //Alter确认框显示AC type:restartAc,startAc
       //弹框：新建窗体startWindow，新建窗体并结束当前窗体skipWindow
       function dialogShowAc(){
          bpmbridget.call("dialogShowAc",{dialogTitle:"标题",dialogInfo:"内容",windowUrl: "https://58.215.198.210:9997/bpmapp/newjswebview.html",windowTitle: "hello",windowType:"startWindow"});
       }

       function progressShow(){
           bpmbridget.call("progressShow");
           }

       function progressCancel(){
           bpmbridget.call("progressCancel");
       }

</script>
</html>
